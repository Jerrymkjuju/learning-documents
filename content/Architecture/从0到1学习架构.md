[TOC]



## 01 架构是什么

需要关注几个概念

- *系统-子系统*：“系统泛指由一群有**关联**的个体组成，根据某种**规则**运作，**能完成个别元件不能单独完成的工作的群体**（提供新的能力）。它的意思是“总体”“整体”或“联盟”

- *模块和组件*：“从逻辑的角度来拆分系统后，得到的单元就是“模块”；从物理的角度来拆分系统后，得到的单元就是“组件”。**划分模块的主要目的是职责分离；划分组件的主要目的是单元复用**。”

  > “组件”的英文 component 也可翻译成中文的“零件”一词，“零件”更容易理解一些，“零件”是一个物理的概念，并且具备“独立且可替换”的特点。”

- *框架和架构*：

  **架构：“软件架构指软件系统的顶层结构”**

  - “软件框架（Software framework）通常指的是为了实现某个业界标准或完成特定基本任务的软件**组件规范**，也指为了实现某个软件组件规范时，**提供规范所要求之基础功能的软件产品**”

    > 1. “框架是组件规范：例如，MVC 就是一种最常见的开发规范，类似的还有 MVP、MVVM、J2EE 等框架。”
    >
    > 2. “框架提供基础功能的产品：例如，Spring MVC 是 MVC 的开发框架，除了满足 MVC 的规范，Spring 提供了很多基础功能来帮助我们实现功能，包括注解（@Controller 等）、Spring Security、Spring JPA 等很多基础功能”

  - “软件架构指软件系统的**“基础结构”**，创造这些基础结构的准则，以及对这些结构的描述。”

  - “框架关注的是“规范”，架构关注的是“结构” ，框架的英文是 Framework，架构的英文是 Architecture”

  - 但是很多时候会模棱两可，因为“基础结构”这个概念并没有明确说是从什么角度来分解的。采用不同的角度或者维度，可以将系统划分为不同的结构” - 业务、技术角度等等

    > *TODO：学习了解 “ IBM 的 RUP 将软件架构视图分为著名的 4+1 视图的原因。”*

## 02 软件架构的历史背景

机器语言 -> 汇编语言 -> 高级语言 -> 结构化程序设计（第一次软件危机） -> 面向对象（第二次软件危机）

> 第二次软件危机的根本原因还是在于软件生产力远远跟不上硬件和业务的发展。第一次软件危机的根源在于软件的“逻辑”变得非常复杂，而第二次软件危机主要体现在软件的“扩展”变得非常复杂。



## 03 架构设计的目的

***“为了解决软件系统复杂度带来的问题 。”***



## 04 复杂度来源：高性能

技术的发展会带来性能的提升，但并不一定带来负责度的提升，只有那些并不是用来取代旧技术，而是开辟了一个全新领域的技术，才会给软件系统带来复杂度。

软件系统中高性能带来的复杂度主要体现在两方面：

- 一方面是**单台计算机内部**为了高性能带来的复杂度
- 另一方面是**多台计算机集群**为了高性能带来的复杂度 

### 单机复杂度

“计算机内部复杂度最关键的地方就是操作系统。计算机性能的发展本质上是由硬件发展驱动的，尤其是 CPU 的性能发展”。

进程 -> 线程 -> 多核：“有了多线程后，操作系统调度的最小单位就变成了线程，而进程变成了操作系统分配资源的最小单位。”

> “这些技术并不是最新的就是最好的，也不是非此即彼的选择，在做架构设计的时候，需要花费很大的精力来结合业务进行分析、判断、选择、组合”
>
> 如：Nginx 可以用多进程也可以用多线程，JBoss 采用的是多线程；Redis 采用的是单进程，Memcache 采用的是多线程，这些系统都实现了高性能，但内部实现差异却很大
>

### 集群复杂度